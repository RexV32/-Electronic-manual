{% extends 'layout-admin.twig' %}

{% block content %}
<div class="main__content">
<section class="main__section">
    <h2 class="main__section-title">Список дисциплин:</h2>
    <ul class="main__section-list">
        {% for discipline in disciplinesSlice %}
        <li class="main__section-item">
            <h3 class="main__title">{{discipline.Name}}</h3>
            <ul class="main__control-panel">
            <li class="main__panel-item" title="Изменить название">
                <a class="main__panel-button" href="rename.php?id={{discipline.Id}}&section=discipline">
                <svg class="main__panel-icon" width="29" height="29" role="img" aria-label="edit">
                    <use xlink:href="../image/icons/sprite.svg#editIcon"></use>
                </svg>
                <span class="visually-hidden">Переименовать</span>
                </a>
            </li>
            {% if discipline.Status == 1 %}
            <li class="main__panel-item" title="Скрыть дисциплину">
            {% else %}
            <li class="main__panel-item" title="Показать дисциплину">
            {% endif %}
                <a class="main__panel-button" href="?id={{discipline.Id}}&status={{discipline.Status}}">
                {% if discipline.Status == 1 %}
                <svg class="main__panel-icon" width="27" height="28" role="img" aria-label="hidden">
                    <use xlink:href="../image/icons/sprite.svg#hiddenIcon"></use>
                </svg>
                <span class="visually-hidden">Скрыть</span>
                {% else %}
                <svg class="main__panel-icon" width="24" height="18" role="img" aria-label="show">
                    <use xlink:href="../image/icons/sprite.svg#showIcon"></use>
                </svg>
                <span class="visually-hidden">Показать</span>
                {% endif %}
                </a>
            </li>
            <li class="main__panel-item" title="Удалить дисциплину">
                <button class="main__panel-button main__panel-button--delete" type="button" data-id="{{discipline.Id}}" data-section="discipline">
                    <svg class="main__panel-icon" width="28" height="28" role="img" aria-label="delete">
                        <use xlink:href="../image/icons/sprite.svg#deleteIcon"></use>
                    </svg>
                    <span class="visually-hidden">Удалить</span>
                </button>
            </li>
            </ul>
        </li>
        {% endfor %}
    </ul>
    {% set className = disciplines|length <= limit ? "pagintaion--none": ""%}
    <div class="pagintaion {{className}}">
        <ul class="pagination__list">
        {% for i in 1..pages %}
            <li class="pagination-item {{ i == page ? 'pagination-item--current' : '' }}">
                <a class="pagination-link" href="?page={{i}}">{{i}}</a>
            </li>
        {% endfor %}
        </ul>
    </div>
    <a class="main__button" href="add-disciplines.php">Добавить дисциплину</a>
</section>
</div>
{% endblock %}